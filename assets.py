import pyxel

class Asset:
    def __init__(self, matrix:list):
        if len(matrix) != 16 and len(matrix) != 8:
            print("Invalid asset size")
            exit()

        self.matrix = matrix

    def display(self, x, y, col, size=1):
        i = 0
        for line in self.matrix:
            ii = 0
            for char in line:
                if str(char) == "1":
                    pyxel.rect(x+ii, y+i, 1*size,1*size, col)
                ii += 1*size
    
            i += 1*size

"""
b_xxx = Border
a_xxx = Avatar (in the middle)
"""

empty = Asset(["0" * 16 for _ in range(16)])
full = Asset(["1" * 16 for _ in range(16)])

b_cubic = Asset(["1" * 16 if i == 0 or i == 15 else "1" + "0" * 14 + "1"for i in range(16)])
b_grid_a = Asset([[int((i + j) % 2) for j in range(16)]for i in range(16)])
b_grid_b = Asset([[int(1-((i + j) % 2)) for j in range(16)]for i in range(16)])

b_rounded = Asset(["0011111111111100","0110000000000110","1100000000000011","1000000000000001","1000000000000001","1000000000000001","1000000000000001","1000000000000001","1000000000000001","1000000000000001","1000000000000001","1000000000000001","1000000000000001","1100000000000011","0110000000000110","0011111111111100"])
b_smaller_rounded = Asset(["0000000000000000","0001111111111000","0010000000000100","0100000000000010","0100000000000010","0100000000000010","0100000000000010","0100000000000010","0100000000000010","0100000000000010","0100000000000010","0100000000000010","0100000000000010","0010000000000100","0001111111111000","0000000000000000",])
b_2x2_square = Asset(['1111111111111111', '1001001001001001', '1001001001001001', '1111111111111111', '1001001001001001', '1001001001001001', '1111111111111111', '1001001001001001', '1001001001001001', '1111111111111111', '1001001001001001', '1001001001001001', '1111111111111111', '1001001001001001', '1001001001001001', '1111111111111111'])

a_smile = Asset(['0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000011001100000', '0000011001100000', '0000011001100000', '0000000000000000', '0000000000000000', '0000111111110000', '0000111111110000', '0000011111100000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000'])
a_kitao = Asset(["0000000000000000","0000000000000000","0000000000000000","0000000000000000","0000000000000000","0000011001100000","0000011111100000","0000101110110000","0000111011110000","0000110101110000","0000011111100000","0000000000000000","0000000000000000","0000000000000000","0000000000000000","0000000000000000"])
a_ghost = Asset(['0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000111000000', '0000001111100000', '0000011010110000', '0000011010110000', '0000011111110000', '0000011111110000', '0000010101010000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000'])
a_amogus = Asset(['0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000001111100000', '0000011110000000', '0000011110000000', '0000011111100000', '0000001111100000', '0000001101100000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000'])
a_invader = Asset(['0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000001111100000', '0000011111110000', '0000110111011000', '0000111111111000', '0000001000100000', '0000010000010000', '0000100000001000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000'])
a_side_smile = Asset(['0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0000011001110000', '0000111001110000', '0000110000000000', '0000110000000000', '0000110000000000', '0000111001110000', '0000011001110000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000'])
a_cube_smile = Asset(['0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000', '0001111111100000', '0001000000100000', '0001010010100000', '0001010010100000', '0001000000100000', '0001010010100000', '0001001100100000', '0001111111100000', '0000000000000000', '0000000000000000', '0000000000000000', '0000000000000000'])

borders = [b_cubic, full, empty, b_grid_a, b_grid_b, b_rounded, b_smaller_rounded, b_2x2_square]
avatars = [a_smile, empty, a_kitao, a_ghost, a_amogus, a_invader, a_side_smile, a_cube_smile]

if __name__ == "__main__":
    import os
    os.system("python3 main.py")